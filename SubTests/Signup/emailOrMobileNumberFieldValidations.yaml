appId: ${APP_ID}
---
- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.signupPage.mobileOrEmailTextField}
        SIGNUP: true

# 9 digits
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.digits9}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.digits9}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# 12 digits
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.digits12}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.digits12}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# 2 digits

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.digits2}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.digits2}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Special characters

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.specialCharacters}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.specialCharacters}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Alphabets

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.alphabets}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.alphabets}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Invalid email id 1

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.invalidEmail1}
        KEYBOARD: true
- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.invalidEmail1}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Invalid email id 2

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.invalidEmail2}
        KEYBOARD: true
- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.invalidEmail2}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Invalid email id 3

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.invalidEmail3}
        KEYBOARD: true
- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.invalidEmail3}

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Invalid email id 4

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.invalidEmail4}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.invalidEmail4}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Invalid email id 5

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.invalidEmail5}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.invalidEmail5}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Existing employee's mobile number

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.EMPLOYEE_MOBILE_A}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.otpPage.otpTextField}
        TEXT: ${output.env.validOtp}
        KEYBOARD: false
- assertVisible: ${output.signupPage.existingEmployeeNumberErrorToast}

- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.EMPLOYEE_MOBILE_A}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Existing employee's email

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.EMPLOYEE_EMAIL_A}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.otpPage.otpTextField}
        TEXT: ${output.env.validOtp}
        KEYBOARD: false

- assertVisible: ${output.signupPage.existingEmployeeEmailErrorToast}
- runFlow:
    file: ../../PageVerification/signupPageVerification.yaml
    env:
        FIELDVALUE: ${output.env.EMPLOYEE_EMAIL_A}
        SIGNUP: true

- runFlow:
    file: ../../ElementActions/eraseText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}

# Valid number 1

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.MERCHANT_MOBILE_1}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.otpPage.otpTextField}
        TEXT: ${output.env.validOtp}
        KEYBOARD: true

- assertVisible: ${output.secureAtoaPage.enableAppLockTitle}

# Valid number 2
- runFlow: ../../SubFlows/GeneralFlows/launchAppClearState.yaml
- runFlow: ../../SubFlows/GeneralFlows/clickGetStartedButton.yaml
- runFlow: 
    file: ../../SubFlows/GeneralFlows/selectUserType.yaml
    env: 
        USER: ${output.annotations.businessOwner}

- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.TEST_NUMBER}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.otpPage.otpTextField}
        TEXT: ${output.env.validOtp}
        KEYBOARD: true

- assertVisible: ${output.secureAtoaPage.enableAppLockTitle}

# Valid email 1
- runFlow: ../../SubFlows/GeneralFlows/launchAppClearState.yaml
- runFlow: ../../SubFlows/GeneralFlows/clickGetStartedButton.yaml
- runFlow: 
    file: ../../SubFlows/GeneralFlows/selectUserType.yaml
    env: 
        USER: ${output.annotations.businessOwner}
        
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.TEST_EMAIL_1}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.otpPage.otpTextField}
        TEXT: ${output.env.validOtp}
        KEYBOARD: true

- assertVisible: ${output.secureAtoaPage.enableAppLockTitle}

# Valid email 2
- runFlow: ../../SubFlows/GeneralFlows/launchAppClearState.yaml
- runFlow: ../../SubFlows/GeneralFlows/clickGetStartedButton.yaml
- runFlow: 
    file: ../../SubFlows/GeneralFlows/selectUserType.yaml
    env: 
        USER: ${output.annotations.businessOwner}
        
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.signupPage.mobileOrEmailTextField}
        TEXT: ${output.env.TEST_EMAIL_2}
        KEYBOARD: true

- runFlow:
    file: ../../ElementActions/tapOn.yaml
    env: 
        ELEMENT: ${output.signupPage.signupButton}
- runFlow:
    file: ../../ElementActions/inputText.yaml
    env: 
        ELEMENT: ${output.otpPage.otpTextField}
        TEXT: ${output.env.validOtp}
        KEYBOARD: true

- assertVisible: ${output.secureAtoaPage.enableAppLockTitle}